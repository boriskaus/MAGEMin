<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>List of arguments &mdash; MAGEMin 2022 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="As a nested structure" href="out_struct.html" />
    <link rel="prev" title="Command line minimization" href="../ckbk.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/2022_MAGEMin_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">In development:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Seismic velocity calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stp.html">Linux-based system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stp/Linux.html">External libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stp/Linux.html#magemin">MAGEMin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stp.html#macos-system">macOS system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stp/macOS.html">External libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stp/macOS.html#magemin">MAGEMin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stp.html#optional-developers">Optional (developers)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stp/Dev.html">Python libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stp/Dev.html#c-tools">C tools</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Methods and examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../man.html">Thermodynamic problem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../man/Thermo.html">Problem definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../man/Thermo.html#total-gibbs-energy">1. Total Gibbs energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../man/Thermo.html#gibbs-duhem-constraint">2. Gibbs-Duhem constraint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../man/Thermo.html#mass-constraint">3. Mass constraint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../man/Thermo.html#minimization-approach">Minimization approach</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Thermo.html#algorithm-demonstration">Algorithm demonstration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../man.html#phase-diagrams">Phase diagrams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html">Examples of phase diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#peridotite-klb1">Peridotite (KLB1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#pyroxenite-mixg1">Pyroxenite (MIXG1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#basalt-re46">Basalt (RE46)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#basalt-nmorb">Basalt (NMORB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#hydrous-basalt">Hydrous basalt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../man/Examples.html#tonalite-101">Tonalite 101</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cookbook:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../ckbk.html">Command line minimization</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">List of arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#single-point-calculation">Single point calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-points-calculation">Multiple points calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-points-in-parallel">Multiple points in parallel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ckbk.html#data-output">Data output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="out_struct.html">As a nested structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ckbk.html#pseudosection-generator">Pseudosection generator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gui.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.html#klb-1-pseudosection-tutorial">KLB-1 Pseudosection tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gui.html#sarting-gui">Sarting GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#set-p-t-conditions">Set P-T conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#mesh-refinement-and-computation-options">Mesh refinement and computation options</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#choose-bulk-rock-composition">Choose bulk-rock composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#compute-pseudosection">Compute pseudosection</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#refine-pseudosection">Refine pseudosection</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#change-displayed-field">Change displayed field</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#display-stable-phases-labels">Display stable phases labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="gui.html#save-pseudosection-data">Save pseudosection data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQs:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Firewall warning (Apple M1)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers section:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev.html">Add database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/Dev.html">Analytical formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/Dev.html#generate-pseudocompounds">Generate pseudocompounds</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source code:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../src.html">Main algorithm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/MAGEMin.html">MAGEMin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/MAGEMin.html#mineral-assemblage-gibbs-energy-minimization">Mineral Assemblage Gibbs Energy Minimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/simplex_levelling.html">Simplex levelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/PGE_function.html">PGE_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/phase_update_function.html">phase_update_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/phase_update_function.html#pp-ss-flags">PP &amp; SS_flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/dump_function.html">dump_function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src.html#pure-phases-functions">Pure phases functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/gem_function.html">gem_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/pp_min_function.html">pp_min_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/pp_min_function.html#pure-phase-minimization-function">Pure phase minimization function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src.html#solution-phases-functions">Solution phases functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/gss_init_function.html">gss_init_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/gss_init_function.html#pp-ss-flags">PP &amp; SS_flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/gss_function.html">gss_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/ss_min_function.html">ss_min_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/NLopt_opt_function.html">NLopt_opt_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/objective_functions.html">objective_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src.html#toolkit">Toolkit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/toolkit.html">toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/io_function.html">io_function</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MAGEMin</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../ckbk.html">Command line minimization</a> &raquo;</li>
      <li>List of arguments</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ckbk/Commands.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="list-of-arguments">
<h1>List of arguments<a class="headerlink" href="#list-of-arguments" title="Permalink to this headline"></a></h1>
<p>MAGEMin is run by using command line arguments when executing the binary file.</p>
<p>The list of valid command line arguments is the following</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Arguments</p></th>
<th class="head"><p>Application</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>--Verb=x</p></td>
<td><p>Verbose option, 0. inactive, 1. active</p></td>
</tr>
<tr class="row-odd"><td><p>--File=path</p></td>
<td><p>Given file for multiple point calculation</p></td>
</tr>
<tr class="row-even"><td><p>--n_points=x</p></td>
<td><p>Number of points when using <em>File</em> argument</p></td>
</tr>
<tr class="row-odd"><td><p>--test=x</p></td>
<td><p>Run calculation on included test compositions</p></td>
</tr>
<tr class="row-even"><td><p>--Pres=y</p></td>
<td><p>Pressure in kilobar</p></td>
</tr>
<tr class="row-odd"><td><p>--Temp=y</p></td>
<td><p>Temperature in Celsius</p></td>
</tr>
<tr class="row-even"><td><p>--Bulk=[y]</p></td>
<td><p>Bulk rock composition in molar amount</p></td>
</tr>
<tr class="row-odd"><td><p>--Gam=[y]</p></td>
<td><p>Gamma, when a guess of gamma is known</p></td>
</tr>
</tbody>
</table>
<p>where <em>x</em> is an integer, <em>y</em> a float/double and <em>[]</em> a comma-separated list of size <em>number of oxides</em>. The list of oxides must be given in the following order: SiO2,Al2O3,CaO,MgO,FeO,K2O,Na2O,TiO2,O,Cr2O3,H2O</p>
</section>
<section id="single-point-calculation">
<h1>Single point calculation<a class="headerlink" href="#single-point-calculation" title="Permalink to this headline"></a></h1>
<p>Using previously defined arguments, a valid command to run a single point calculation with MAGEMin is for instance:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./MAGEMin --Verb<span class="o">=</span><span class="m">1</span> --Temp<span class="o">=</span><span class="m">718</span>.750 --Pres<span class="o">=</span><span class="m">30</span>.5000 --test<span class="o">=</span><span class="m">0</span> &gt;<span class="p">&amp;</span>log.txt
</pre></div>
</div>
<p>Here, the verbose is active and the bulk rock composition of <em>test 0</em> is selected. The output of the verbose is saved as a log file <em>log.txt</em>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="multiple-points-calculation">
<h1>Multiple points calculation<a class="headerlink" href="#multiple-points-calculation" title="Permalink to this headline"></a></h1>
<p>To run multiple points at once you can pass an input file containing the list of points such as</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./MAGEMin --Verb<span class="o">=</span><span class="m">1</span> --File<span class="o">=</span>path_to_file --n_points<span class="o">=</span>x
</pre></div>
</div>
<p>where “path_to_file” is the location of the file and “x” is an integer corresponding to the total number of points contained in the file. The file must have one point per line using the following structure</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 7%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Mode(0-1)</p></td>
<td><p>Pressure(kbar)</p></td>
<td><p>Temperature(C)</p></td>
<td><p>Gamma_1</p></td>
<td><p>Gamma_2</p></td>
<td><p>…</p></td>
<td><p>Gamma_n</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>mode = 0 for global minimization</p></li>
<li><p>“Gamma_n” is the array of oxide chemical potential (defining the Gibbs-hyperplane). This functionality is in development and will be used in a future update to provide an initial guess of the Gibbs-hyperplane to improve performances.</p></li>
</ul>
<p>A valid list of points is for instance:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>MAGEMin_input.dat:

<span class="m">0</span> <span class="m">0</span>.0 <span class="m">800</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0
<span class="m">0</span> <span class="m">4</span>.0 <span class="m">800</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0
<span class="m">0</span> <span class="m">8</span>.0 <span class="m">800</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0
<span class="m">0</span> <span class="m">8</span>.0 <span class="m">800</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0 <span class="m">0</span>.0
<span class="o">(</span>...<span class="o">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="multiple-points-in-parallel">
<h1>Multiple points in parallel<a class="headerlink" href="#multiple-points-in-parallel" title="Permalink to this headline"></a></h1>
<p>To run a list of points in parallel, you simply need to call “MPI” before MAGEMin and give the number of cores you want to use. Valid calls using previously defined input file are for instance:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mpirun -np <span class="m">8</span> ./MAGEMin --Verb<span class="o">=</span><span class="m">1</span> --File<span class="o">=</span>/path_to_file/MAGEMin_input.dat --n_points<span class="o">=</span><span class="m">4</span>
mpiexec -n <span class="m">8</span> ./MAGEMin --Verb<span class="o">=</span><span class="m">1</span> --File<span class="o">=</span>/path_to_file/MAGEMin_input.dat --n_points<span class="o">=</span><span class="m">4</span>
</pre></div>
</div>
<p>where “y” is the desired number of cores.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ckbk.html" class="btn btn-neutral float-left" title="Command line minimization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="out_struct.html" class="btn btn-neutral float-right" title="As a nested structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Riel, N., &amp; Kaus, B.J.P..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>